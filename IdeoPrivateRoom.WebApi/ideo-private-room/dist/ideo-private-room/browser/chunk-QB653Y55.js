import{a as R}from"./chunk-42B6KBJN.js";import{$a as E,Ab as b,Cb as C,Da as u,Ha as r,Oa as h,Sa as S,Wa as v,Za as y,_ as p,_a as O,aa as x,ab as w,bb as o,cb as a,cd as F,db as g,gb as D,hb as I,hc as k,id as i,jb as c,kb as m,kd as T,lb as f,ld as z,pa as M,qb as j,ua as P}from"./chunk-J6PIFLLY.js";import"./chunk-ZY7WU73K.js";var U=(e,l)=>l.id;function A(e,l){if(e&1&&(c(0),b(1,"date")),e&2){let t=I();f(" - ",C(1,1,t.card().toDate,"M.d.yyyy")," ")}}function L(e,l){if(e&1&&(g(0,"img",9),o(1,"span"),c(2),a()),e&2){let t=l.$implicit;v("src",t.userIcon,u),r(2),m(t.approvalStatus)}}var Q=(()=>{class e{destroyRef=p(M);eventListService=p(T);eventFiltersService=p(z);modalService=p(F);card=P.required();cardStatus=h(void 0);ngOnInit(){switch(this.card().status){case i.Pending:this.cardStatus.set({class:"pending-bg",name:i[i.Pending]});break;case i.Declined:this.cardStatus.set({class:"rejected-bg",name:i[i.Declined]});break;default:this.cardStatus.set({class:"approved-bg",name:i[i.Approved]});break}}removeCard(){let t=this.modalService.open(R);t.componentInstance.confirmationTitle="Confirm Deletion",t.componentInstance.confirmationText="Are you sure you want to delete this vacation request?";let d=t.componentInstance.confirmationStatus.subscribe({next:n=>{n===!0&&this.eventListService.deleteEvent(this.card().id).subscribe({complete:()=>this.eventFiltersService.loadFilteredEvents().subscribe(),error:s=>{console.log(s.message)}})}});this.destroyRef.onDestroy(()=>{d.unsubscribe()})}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=x({type:e,selectors:[["app-event-card"]],inputs:{card:[1,"card"]},standalone:!0,features:[j],decls:17,vars:10,consts:[[1,"user-card","mb-3","me-2"],[1,"row","float-end"],["type","button",1,"btn-close","text-end",3,"click"],[1,"user-name"],["alt","User Profile Picture",1,"profile-img",3,"src"],[1,"card-status"],[1,"vacation-details"],[1,"approval-icons"],["href","#",1,"btn","btn-light"],["alt","User Photo 1",1,"approval-pending",3,"src"]],template:function(d,n){if(d&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return n.removeCard()}),a()(),o(3,"div",3),c(4),a(),g(5,"img",4),o(6,"div",5),c(7),a(),o(8,"div",6),c(9),b(10,"date"),S(11,A,2,4),a(),o(12,"div",7),E(13,L,3,2,null,null,U),a(),o(15,"a",8),c(16,"View More"),a()()),d&2){let s,_;y((s=n.cardStatus())==null?null:s.class),r(4),m(n.card().userName),r(),v("src",n.card().userIcon,u),r(2),m((_=n.cardStatus())==null?null:_.name),r(2),f(" ",C(10,7,n.card().fromDate,"M.d.yyyy")," "),r(2),O(n.card().toDate?11:-1),r(2),w(n.card().userApprovalResponses)}},dependencies:[k],styles:[".user-card[_ngcontent-%COMP%]{width:320px;border-radius:10px;box-shadow:0 4px 8px #0000001a;overflow:hidden;text-align:left;padding:20px;margin-bottom:20px;color:#000}.user-card[_ngcontent-%COMP%]   img.profile-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:15px}.user-card[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.user-card[_ngcontent-%COMP%]   .vacation-details[_ngcontent-%COMP%]{margin:10px 0}.user-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.9rem}.approval-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:15px 0}.approval-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin:0 5px;border:2px solid white}.approval-icons[_ngcontent-%COMP%]   img.approval-pending[_ngcontent-%COMP%]{border-color:#ffc107}.approval-icons[_ngcontent-%COMP%]   img.approval-rejected[_ngcontent-%COMP%]{border-color:#dc3545}.approval-icons[_ngcontent-%COMP%]   img.approval-approved[_ngcontent-%COMP%]{border-color:#28a745}.user-card.rejected-bg[_ngcontent-%COMP%]{border-top:15px solid #dd727c}.user-card.approved-bg[_ngcontent-%COMP%]{border-top:15px solid #7fcb91}.user-card.pending-bg[_ngcontent-%COMP%]{border-top:15px solid #e0c67a}"]})}return e})();export{Q as EventCardComponent};
